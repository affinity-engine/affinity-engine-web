{{#affinity-engine engineId=scene config=config fixtures=fixtures isFocused=isFocused as |engine|}}
  {{#if engine.isLoaded}}
    {{affinity-engine-stage engineId=engine.engineId initialScene=scene}}
    {{yield engine=engine}}
  {{else}}
    {{#affinity-engine-curtain engineId=engine.engineId filesToPreload=(hash keyframes="src") completePreload=engine.completePreload as |curtain|}}
      {{ember-progress-bar
        shape="Circle"
        progress=curtain.progress
        useDefaultStep=true
        options=progressBarOptions
      }}
    {{/affinity-engine-curtain}}
  {{/if}}
{{/affinity-engine}}
